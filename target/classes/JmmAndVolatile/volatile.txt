1.被volatile修改的变量有2大特点
- 可见性:保证不同线程对某个变量完成操作后结果及时可见,即该共享变量一旦改变所有线程立即可见
- 有序性:

2.volatile的内存语义
- 当写一个volatile变量时,JMM会把该线程对应的本地内存中的共享变量值立即刷新回主内存中
- 当读一个volatile变量时,JMM会把该线程对应的本地内存设置为无效,直接从主内存中读取共享变量
- 所以volatile的写内存语义是直接刷新到主内存中,读的内存语义是直接从主内存中读取

3.volatile凭什么可以保证可见性和有序性(重点)
内存屏障Memory Barrier
详情可参见 四大屏障.png